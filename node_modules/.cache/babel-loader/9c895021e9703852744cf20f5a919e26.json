{"ast":null,"code":"import _objectSpread from\"D:/workspace/capstone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{toast}from\"react-toastify\";var initialState={cartItems:localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")):[],cartTotalQuantity:0,cartTotalAmount:0};var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addToCart:function addToCart(state,action){var itemIndex=state.cartItems.findIndex(function(item){return item.id===action.payload.id;});if(itemIndex>=0){state.cartItems[itemIndex].cartQuantity+=1;toast.info(\"increased \".concat(state.cartItems[itemIndex].title,\" cart quantity\"),{position:\"bottom-left\"});}else{var tempProduct=_objectSpread(_objectSpread({},action.payload),{},{cartQuantity:1});state.cartItems.push(tempProduct);toast.success(\"\".concat(action.payload.title,\" added to cart\"),{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));},decreaseCart:function decreaseCart(state,action){var itemIndex=state.cartItems.findIndex(function(cartItem){return cartItem.id===action.payload.id;});if(state.cartItems[itemIndex].cartQuantity>1){state.cartItems[itemIndex].cartQuantity-=1;toast.info(\"Decreased \".concat(action.payload.title,\" cart quantity\"),{position:\"bottom-left\"});}else if(state.cartItems[itemIndex].cartQuantity===1){var nextCartItems=state.cartItems.filter(function(item){return item.id!==action.payload.id;});state.cartItems=nextCartItems;toast.error(\"Product is removed from cart\",{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));},removeFromCart:function removeFromCart(state,action){state.cartItems.map(function(cartItem){if(cartItem.id===action.payload.id){var nextCartItems=state.cartItems.filter(function(item){return item.id!==cartItem.id;});state.cartItems=nextCartItems;toast.error(\"Product removed from cart\",{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));return state;});},getTotals:function getTotals(state,action){var _state$cartItems$redu=state.cartItems.reduce(function(cartTotal,cartItem){var price=cartItem.price,cartQuantity=cartItem.cartQuantity;var itemTotal=price*cartQuantity;cartTotal.total+=itemTotal;cartTotal.quantity+=cartQuantity;return cartTotal;},{total:0,quantity:0}),total=_state$cartItems$redu.total,quantity=_state$cartItems$redu.quantity;total=parseFloat(total.toFixed(2));state.cartTotalQuantity=quantity;state.cartTotalAmount=total;}}});var _cartSlice$actions=cartSlice.actions,addToCart=_cartSlice$actions.addToCart,decreaseCart=_cartSlice$actions.decreaseCart,removeFromCart=_cartSlice$actions.removeFromCart,getTotals=_cartSlice$actions.getTotals;export{addToCart,decreaseCart,removeFromCart,getTotals};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","cartItems","localStorage","getItem","JSON","parse","cartTotalQuantity","cartTotalAmount","cartSlice","name","reducers","addToCart","state","action","itemIndex","findIndex","item","id","payload","cartQuantity","info","title","position","tempProduct","push","success","setItem","stringify","decreaseCart","cartItem","nextCartItems","filter","error","removeFromCart","map","getTotals","reduce","cartTotal","price","itemTotal","total","quantity","parseFloat","toFixed","actions","reducer"],"sources":["D:/workspace/capstone/src/Components/Cart/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { toast } from \"react-toastify\";\r\nconst initialState = {\r\n    cartItems: localStorage.getItem(\"cartItems\")\r\n    ? JSON.parse(localStorage.getItem(\"cartItems\"))\r\n    : [],\r\n    cartTotalQuantity: 0,\r\n    cartTotalAmount: 0,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n    name: \"cart\",\r\n    initialState,\r\n    reducers: {\r\n        addToCart(state, action){\r\n            const itemIndex =  state.cartItems.findIndex(\r\n                 (item) => item.id === action.payload.id\r\n                 );\r\n            if(itemIndex >= 0){\r\n                \r\n                state.cartItems[itemIndex].cartQuantity += 1;\r\n                \r\n                toast.info(`increased ${state.cartItems[itemIndex].title} cart quantity`, {\r\n                    position: \"bottom-left\",\r\n                });\r\n            }\r\n            else{\r\n                const tempProduct = {...action.payload, cartQuantity: 1}\r\n                state.cartItems.push(tempProduct);\r\n          \r\n                toast.success(`${action.payload.title} added to cart`, {\r\n                    position: \"bottom-left\",\r\n                });\r\n            }\r\n\r\n            localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\r\n        },\r\n        decreaseCart(state, action){\r\n            const itemIndex = state.cartItems.findIndex(\r\n                cartItem => cartItem.id === action.payload.id\r\n            )\r\n\r\n            if(state.cartItems[itemIndex].cartQuantity > 1){\r\n                state.cartItems[itemIndex].cartQuantity -= 1\r\n\r\n                toast.info(`Decreased ${action.payload.title} cart quantity`, {\r\n                    position: \"bottom-left\",\r\n                });\r\n            }\r\n            else if(state.cartItems[itemIndex].cartQuantity === 1){\r\n                const nextCartItems = state.cartItems.filter(\r\n                    (item) => item.id !== action.payload.id\r\n                  );\r\n          \r\n                  state.cartItems = nextCartItems;\r\n          \r\n                  toast.error(\"Product is removed from cart\", {\r\n                    position: \"bottom-left\",\r\n                  });  \r\n            }\r\n            localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\r\n        },\r\n        removeFromCart(state, action) {\r\n            state.cartItems.map((cartItem) => {\r\n              if (cartItem.id === action.payload.id) {\r\n                const nextCartItems = state.cartItems.filter(\r\n                  (item) => item.id !== cartItem.id\r\n                );\r\n      \r\n                state.cartItems = nextCartItems;\r\n      \r\n                toast.error(\"Product removed from cart\", {\r\n                  position: \"bottom-left\",\r\n                });\r\n              }\r\n              localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\r\n              return state;\r\n            });\r\n          },\r\n        getTotals(state, action) {\r\n            let { total, quantity } = state.cartItems.reduce(\r\n              (cartTotal, cartItem) => {\r\n                const { price, cartQuantity } = cartItem;\r\n                const itemTotal = price * cartQuantity;\r\n      \r\n                cartTotal.total += itemTotal;\r\n                cartTotal.quantity += cartQuantity;\r\n      \r\n                return cartTotal;\r\n              },\r\n              {\r\n                total: 0,\r\n                quantity: 0,\r\n              }\r\n            );\r\n            total = parseFloat(total.toFixed(2));\r\n            state.cartTotalQuantity = quantity;\r\n            state.cartTotalAmount = total;\r\n          }\r\n    },\r\n});\r\n\r\nexport const { addToCart,decreaseCart,removeFromCart,getTotals } = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;"],"mappings":"0GAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,GAAMC,aAAY,CAAG,CACjBC,SAAS,CAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB,EACTC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CADS,CAET,EAHe,CAIjBG,iBAAiB,CAAE,CAJF,CAKjBC,eAAe,CAAE,CALA,CAArB,CAQA,GAAMC,UAAS,CAAGV,WAAW,CAAC,CAC1BW,IAAI,CAAE,MADoB,CAE1BT,YAAY,CAAZA,YAF0B,CAG1BU,QAAQ,CAAE,CACNC,SADM,oBACIC,KADJ,CACWC,MADX,CACkB,CACpB,GAAMC,UAAS,CAAIF,KAAK,CAACX,SAAN,CAAgBc,SAAhB,CACd,SAACC,IAAD,QAAUA,KAAI,CAACC,EAAL,GAAYJ,MAAM,CAACK,OAAP,CAAeD,EAArC,EADc,CAAnB,CAGA,GAAGH,SAAS,EAAI,CAAhB,CAAkB,CAEdF,KAAK,CAACX,SAAN,CAAgBa,SAAhB,EAA2BK,YAA3B,EAA2C,CAA3C,CAEApB,KAAK,CAACqB,IAAN,qBAAwBR,KAAK,CAACX,SAAN,CAAgBa,SAAhB,EAA2BO,KAAnD,mBAA0E,CACtEC,QAAQ,CAAE,aAD4D,CAA1E,EAGH,CAPD,IAQI,CACA,GAAMC,YAAW,gCAAOV,MAAM,CAACK,OAAd,MAAuBC,YAAY,CAAE,CAArC,EAAjB,CACAP,KAAK,CAACX,SAAN,CAAgBuB,IAAhB,CAAqBD,WAArB,EAEAxB,KAAK,CAAC0B,OAAN,WAAiBZ,MAAM,CAACK,OAAP,CAAeG,KAAhC,mBAAuD,CACnDC,QAAQ,CAAE,aADyC,CAAvD,EAGH,CAEDpB,YAAY,CAACwB,OAAb,CAAqB,WAArB,CAAkCtB,IAAI,CAACuB,SAAL,CAAef,KAAK,CAACX,SAArB,CAAlC,EACH,CAvBK,CAwBN2B,YAxBM,uBAwBOhB,KAxBP,CAwBcC,MAxBd,CAwBqB,CACvB,GAAMC,UAAS,CAAGF,KAAK,CAACX,SAAN,CAAgBc,SAAhB,CACd,SAAAc,QAAQ,QAAIA,SAAQ,CAACZ,EAAT,GAAgBJ,MAAM,CAACK,OAAP,CAAeD,EAAnC,EADM,CAAlB,CAIA,GAAGL,KAAK,CAACX,SAAN,CAAgBa,SAAhB,EAA2BK,YAA3B,CAA0C,CAA7C,CAA+C,CAC3CP,KAAK,CAACX,SAAN,CAAgBa,SAAhB,EAA2BK,YAA3B,EAA2C,CAA3C,CAEApB,KAAK,CAACqB,IAAN,qBAAwBP,MAAM,CAACK,OAAP,CAAeG,KAAvC,mBAA8D,CAC1DC,QAAQ,CAAE,aADgD,CAA9D,EAGH,CAND,IAOK,IAAGV,KAAK,CAACX,SAAN,CAAgBa,SAAhB,EAA2BK,YAA3B,GAA4C,CAA/C,CAAiD,CAClD,GAAMW,cAAa,CAAGlB,KAAK,CAACX,SAAN,CAAgB8B,MAAhB,CAClB,SAACf,IAAD,QAAUA,KAAI,CAACC,EAAL,GAAYJ,MAAM,CAACK,OAAP,CAAeD,EAArC,EADkB,CAAtB,CAIEL,KAAK,CAACX,SAAN,CAAkB6B,aAAlB,CAEA/B,KAAK,CAACiC,KAAN,CAAY,8BAAZ,CAA4C,CAC1CV,QAAQ,CAAE,aADgC,CAA5C,EAGL,CACDpB,YAAY,CAACwB,OAAb,CAAqB,WAArB,CAAkCtB,IAAI,CAACuB,SAAL,CAAef,KAAK,CAACX,SAArB,CAAlC,EACH,CAhDK,CAiDNgC,cAjDM,yBAiDSrB,KAjDT,CAiDgBC,MAjDhB,CAiDwB,CAC1BD,KAAK,CAACX,SAAN,CAAgBiC,GAAhB,CAAoB,SAACL,QAAD,CAAc,CAChC,GAAIA,QAAQ,CAACZ,EAAT,GAAgBJ,MAAM,CAACK,OAAP,CAAeD,EAAnC,CAAuC,CACrC,GAAMa,cAAa,CAAGlB,KAAK,CAACX,SAAN,CAAgB8B,MAAhB,CACpB,SAACf,IAAD,QAAUA,KAAI,CAACC,EAAL,GAAYY,QAAQ,CAACZ,EAA/B,EADoB,CAAtB,CAIAL,KAAK,CAACX,SAAN,CAAkB6B,aAAlB,CAEA/B,KAAK,CAACiC,KAAN,CAAY,2BAAZ,CAAyC,CACvCV,QAAQ,CAAE,aAD6B,CAAzC,EAGD,CACDpB,YAAY,CAACwB,OAAb,CAAqB,WAArB,CAAkCtB,IAAI,CAACuB,SAAL,CAAef,KAAK,CAACX,SAArB,CAAlC,EACA,MAAOW,MAAP,CACD,CAdD,EAeD,CAjEG,CAkENuB,SAlEM,oBAkEIvB,KAlEJ,CAkEWC,MAlEX,CAkEmB,CACrB,0BAA0BD,KAAK,CAACX,SAAN,CAAgBmC,MAAhB,CACxB,SAACC,SAAD,CAAYR,QAAZ,CAAyB,CACvB,GAAQS,MAAR,CAAgCT,QAAhC,CAAQS,KAAR,CAAenB,YAAf,CAAgCU,QAAhC,CAAeV,YAAf,CACA,GAAMoB,UAAS,CAAGD,KAAK,CAAGnB,YAA1B,CAEAkB,SAAS,CAACG,KAAV,EAAmBD,SAAnB,CACAF,SAAS,CAACI,QAAV,EAAsBtB,YAAtB,CAEA,MAAOkB,UAAP,CACD,CATuB,CAUxB,CACEG,KAAK,CAAE,CADT,CAEEC,QAAQ,CAAE,CAFZ,CAVwB,CAA1B,CAAMD,KAAN,uBAAMA,KAAN,CAAaC,QAAb,uBAAaA,QAAb,CAeAD,KAAK,CAAGE,UAAU,CAACF,KAAK,CAACG,OAAN,CAAc,CAAd,CAAD,CAAlB,CACA/B,KAAK,CAACN,iBAAN,CAA0BmC,QAA1B,CACA7B,KAAK,CAACL,eAAN,CAAwBiC,KAAxB,CACD,CArFG,CAHgB,CAAD,CAA7B,CA4FO,uBAA4DhC,SAAS,CAACoC,OAAtE,CAAQjC,SAAR,oBAAQA,SAAR,CAAkBiB,YAAlB,oBAAkBA,YAAlB,CAA+BK,cAA/B,oBAA+BA,cAA/B,CAA8CE,SAA9C,oBAA8CA,SAA9C,C,wDAEP,cAAe3B,UAAS,CAACqC,OAAzB"},"metadata":{},"sourceType":"module"}